:root{
  --bg:#0b1020;
  --panel:#11162a;
  --card:#121a34;
  --ink:#ffffff;
  --ink-dim:#d6deff;
  --muted:#ffffff;
  --line:#243051;
  --brand:#6aa7ff;
  --success:#22c55e;
  --warn:#f59e0b;
  --danger:#ef4444;
  --shadow:0 8px 30px rgba(0,0,0,.30), 0 4px 10px rgba(0,0,0,.18);
  --radius:14px;
  --radius-sm:10px;
  --mono: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;
  --sans: system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
}

*{ box-sizing:border-box }
html,body,#root{ height:100% }
body{
  margin:0;
  background:
    radial-gradient(1200px 600px at 20% -10%, #1b235c44, transparent 60%),
    radial-gradient(900px 500px at 110% 30%, #1c4b6b44, transparent 60%),
    linear-gradient(180deg, #0a0e1b, #0b1020 50%, #0b1020);
  color:var(--ink);
  font:14px/1.5 var(--sans);
  letter-spacing:.2px;
}

/* Layout */
.app{ max-width:1060px; margin:0 auto; padding:24px; }

/* Header */
.app-header{
  display:flex; gap:6px; align-items:center;
  flex-wrap:nowrap; justify-content:space-between;
  background:linear-gradient(180deg,#0d1533,#0a1128);
  border:1px solid #121a38; border-radius:var(--radius);
  padding:14px 14px; box-shadow:var(--shadow);
  position:sticky; top:16px; z-index:10;
}
.app-title{
  margin:0; font-size:20px; font-weight:700; letter-spacing:.3px;
  display:flex; align-items:center; gap:6px; white-space:nowrap;
  align-items:center;
}
.app-title .badge{
  font-size:12px; color:#ffffff; border:1px solid var(--line);
  border-radius:999px; padding:2px 8px;
}

/* Header icon next to title */
.app-icon{
  height:56px;
  width:auto;
  margin-right:8px;
  display:block;
}
.app-header img.app-icon { align-self: center; }
.toolbar{
  display:flex; gap:6px; align-items:center;
  margin-left:auto; flex-wrap:nowrap;
}
.toolbar button{ margin-left:2px; }

/* Sections / Cards */
.section{ margin-top:16px; }
.section h2, .section h3{ color:#ffffff; }
.card{
  background:linear-gradient(180deg,#0f1631,#0e152f 60%,#0d142b);
  border:1px solid var(--line); border-radius:var(--radius);
  padding:14px; box-shadow:var(--shadow);
}


/* ---------- General Info uniform 3-col grid ---------- */
/* Container used in App.tsx: <div class="gi-grid"> ... <div class="gi-field"> */
.gi-grid{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap:12px;
  align-items:stretch;       /* make children stretch to same row height */
}
@media (max-width: 980px){
  .gi-grid{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px){
  .gi-grid{ grid-template-columns: 1fr; }
}

/* Each tile wraps a label+control stack and keeps consistent height */
.gi-field{
  display:grid;
  align-content:start;
  min-height: 86px;          /* unify tile heights */
}

/* Ensure the label/input stack fills the tile, with consistent control height */
.gi-field .stack{
  height:100%;
}
.gi-field .stack > input[type="text"],
.gi-field .stack > input[type="date"],
.gi-field .stack > select{
  height:40px;               /* match selects & inputs */
}

/* Inline checkbox row used for Multi-day toggle */
.gi-inline{
  display:flex;
  align-items:center;
  gap:10px;
  height:40px;               /* align with other controls */
}

/* When an “Other…” text field appears, keep the tile height consistent */
.gi-field .other-input{
  height:40px;
}

/* Form controls */
label.stack{ display:grid; gap:6px; font-size:13px; color:#ffffff; }
input[type="text"], input[type="date"]{
  background:#0b1228; color:var(--ink);
  border:1px solid #26345a; border-radius:var(--radius-sm);
  padding:10px 12px; outline:none;
}
input::placeholder{ color:#7284a7 }
input:focus{ border-color:#4166ff; box-shadow:0 0 0 3px #4166ff33 }

/* Make selects match inputs and have left padding */
select, select.btn{
  background:#0b1228; color:var(--ink);
  border:1px solid #26345a; border-radius:var(--radius-sm);
  padding:10px 12px;
  padding-left:16px !important;
  -webkit-padding-start:16px;
  -moz-padding-start:16px;
  text-indent:0;
  background-clip:padding-box;
  height:40px; font-size:14px;
  outline:none; appearance:none; -webkit-appearance:none;
}
select option{ color:var(--ink); background:#0b1228; }
select:focus, select.btn:focus{
  border-color:#4166ff; box-shadow:0 0 0 3px #4166ff33;
}

/* Switch text */
.switch{ display:flex; align-items:center; gap:10px; color:#ffffff; font-size:13px; }

/* Buttons */
.btn{
  appearance:none; border:0; outline:none; cursor:pointer;
  padding:9px 12px; border-radius:10px; font-weight:600; letter-spacing:.3px;
  background:#1a223d; color:#cfe0ff; border:1px solid #2a3560;
  transition: transform .08s ease, opacity .2s ease, filter .2s ease, box-shadow .2s ease;
}
.btn:hover{ transform:translateY(-1px); box-shadow:0 4px 16px rgba(0,0,0,.35) }
.btn:active{ transform:translateY(0) scale(.99) }
.btn[disabled], .btn[aria-disabled="true"]{ opacity:.45; filter:grayscale(35%); cursor:not-allowed; box-shadow:none; }
.btn.blue{ background:#1d2b6f; border-color:#2b3ea2; color:#e4ebff }
.btn.green{ background:#0f5132; border-color:#1f8b5f; color:#e7fff6 }
.btn.yellow{ background:#664d02; border-color:#7d6211; color:#fff0c2 }
.btn.red{ background:#5f1d24; border-color:#a23a45; color:#ffe5e7 }
.btn.ghost{ background:transparent; border-color:#2a3560; color:#cfe0ff }

/* Make header buttons small & consistent */
.app-header .toolbar .btn{
  padding:6px 10px !important;
  font-size:13px !important;
  height:36px !important; min-height:36px !important;
  line-height:1 !important; white-space:nowrap;
  display:inline-flex; align-items:center; justify-content:center;
}
.app-header .toolbar .btn.red{ background:#5f1d24; border-color:#a23a45; color:#ffe5e7; }

.kpis{
  display:grid;
  grid-template-columns: repeat(6, minmax(0,1fr));
  gap:8px;
  margin-top:12px;
}
@media (max-width: 980px){
  .kpis{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
@media (max-width: 640px){
  .kpis{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.kpi{ background:linear-gradient(180deg,#0f1736,#0e142d); border:1px solid var(--line); border-radius:12px; padding:12px }
.kpi .label{ color:#ffffff; font-size:12px }
.kpi .num{ font-family:var(--mono); font-weight:700; font-size:20px; margin-top:6px; color:#ffffff }

/* Employee list */
.card-list{ display:grid; gap:12px; margin-top:12px; padding:0; list-style:none; }

.emp{
  display:flex; justify-content:space-between; align-items:center; gap:14px;
  position:relative;
  padding:14px; border:1px solid var(--line); border-radius:12px;
  background:linear-gradient(180deg,#0f1735,#0f1731); color:#ffffff;
}

/* Status borders on employee cards */
.emp.emp-active  { border: 2px solid var(--success); }
.emp.emp-paused  { border: 2px solid var(--warn); }
.emp.emp-stopped { border: 2px solid var(--danger); }
.emp.emp-neutral { border: 1px solid var(--line); }

/* Smoothen border color change */
.emp { transition: border-color .2s ease, border-width .2s ease; }

.emp .meta{ margin:6px 0 0; font-size:12px; color:#ffffff; }

/* Colored "Remove" button inside employee cards */
.emp .btn.ghost{
  color: var(--danger);
  border-color: var(--danger);
  background: transparent;
}
.emp .btn.ghost:hover{
  background: rgba(239, 68, 68, 0.12); /* subtle red tint */
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.25);
}
.emp .btn.ghost:active{
  transform: translateY(0) scale(.98);
}

/* Circular overlay remove button on employee cards */
.emp-remove{
  position:absolute;
  top:8px;
  right:8px;
  width:28px;
  height:28px;
  border-radius:999px;
  background:var(--danger);
  color:#fff;
  border:none;
  font-size:16px;
  font-weight:700;
  line-height:1;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:0 2px 6px rgba(0,0,0,.25);
  transition: transform .08s ease, box-shadow .2s ease, background .2s ease, opacity .2s ease;
}
.emp-remove:hover{
  transform: scale(1.06);
  background:#dc2626; /* slightly deeper red */
  box-shadow:0 4px 12px rgba(0,0,0,.28);
}
.emp-remove:active{
  transform: scale(.98);
}

/* Single-line status row at bottom of each card */
.card-status{
  margin-top:10px;
  padding-top:8px;
  border-top:1px solid var(--line);
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  justify-content:space-between;
  font-size:13px;
  color:var(--ink);
}
.card-status .state{ font-weight:700; }
.card-status .state-active{ color:var(--success); }
.card-status .state-paused{ color:var(--warn); }
.card-status .state-stopped{ color:var(--danger); }

/* Tables */
.table-wrap{
  margin-top:8px; max-height:320px; overflow:auto;
  border:1px solid var(--line); border-radius:12px;
  background:linear-gradient(180deg,#0e142d,#0c1227);
}
table{ width:100%; border-collapse:collapse; }
th, td{ padding:10px; border-bottom:1px solid #1f2a4a; vertical-align:top; color:#ffffff; }
th{
  text-align:left; font-size:12px; color:#ffffff;
  position:sticky; top:0; background:#0e142d;
}
td.mono{ font-family:var(--mono); color:#ffffff }
td.cap{ text-transform:capitalize }

/* Sort pill */
.sort-toggle{
  border:1px solid #2a3560; background:#0d142a; color:#cfe0ff;
  padding:6px 10px; border-radius:10px; cursor:pointer;
}
.sort-toggle:hover{ box-shadow:0 2px 12px rgba(0,0,0,.25) }

/* Footer hint */
.footer-hint{ color:#ffffff; font-size:12px; margin-top:8px }

/* Help modal */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.5); backdrop-filter:blur(2px); display:flex; align-items:center; justify-content:center; z-index:50 }
.modal{ width:min(720px,92vw); max-height:82vh; overflow:auto; background:linear-gradient(180deg,#0f1731,#0e152f); border:1px solid var(--line); border-radius:14px; box-shadow:var(--shadow) }
.modal header{ display:flex; align-items:center; gap:8px; padding:12px 14px; border-bottom:1px solid var(--line) }
.modal header h3{ margin:0; font-size:16px; color:#ffffff }
.modal .body{ padding:14px; display:grid; gap:10px }
.modal .body h4{ margin:6px 0 2px; font-size:13px; color:#cfe0ff }
.modal .body p{ margin:0; color:#ffffff; font-size:13px; line-height:1.55 }
.modal footer{ display:flex; justify-content:flex-end; gap:8px; padding:12px 14px; border-top:1px solid var(--line) }
.help-btn{ border-radius:10px; padding:9px 12px; background:#15224f; border:1px solid #2a3560; color:#e0e8ff }

/* Mini chart */
.chart-card{ margin-top:12px; border:1px solid var(--line); border-radius:12px; padding:10px; background:linear-gradient(180deg,#0f1736,#0e142d) }
.chart-legend{ display:flex; gap:12px; align-items:center; margin-bottom:8px }
.legend-dot{ width:10px; height:10px; border-radius:999px; display:inline-block }
.dot-a{ background:#64b5ff } .dot-t{ background:#35c98e } .dot-i{ background:#ffd166 }

/* Force big counter text to bright white */
.section [style*="ui-monospace"],
.section [style*="monospace"],
.section [style*="font-family: ui-monospace"],
.section [style*="font-weight: 800"]{
  color:#ffffff !important; opacity:1 !important;
}
/* Brighten the small labels above counters */
.section [style*="justifyItems"] > div:first-child{
  color:#ffffff !important; opacity:1 !important;
}

/* Export menu (click-to-open via data-open) */
.export-menu{ position:relative; }
.export-menu .menu{
  position:absolute; top:calc(100% + 8px); right:0; display:none;
  min-width:160px; padding:8px;
  background:linear-gradient(180deg,#101738,#0e142f);
  border:1px solid var(--line); border-radius:10px;
  box-shadow:var(--shadow); z-index:9999;
}
.export-menu[data-open="true"] .menu{ display:grid; gap:6px; }
.export-menu .menu .btn{ width:100%; text-align:left; padding:8px 10px; font-size:13px; }
.export-menu .menu .btn.ghost{ background:#0d142a; border-color:#2a3560; color:#cfe0ff; }
.export-menu .menu .btn:hover{ transform:none; box-shadow:0 2px 10px rgba(0,0,0,.35); }

/* "Other…" inline text fields */
.other-input{
  background:#0b1228;
  color:var(--ink);
  border:1px solid #26345a;
  border-radius:var(--radius-sm);
  padding:10px 12px;
  outline:none;
}
.other-input::placeholder{ color:#7284a7 }

.other-input:focus{ border-color:#4166ff; box-shadow:0 0 0 3px #4166ff33 }

/* Summary (multiline) textarea styles */
.summary-input,
.summary textarea,
textarea[name="summary"]{
  background:#0b1228;
  color:var(--ink);
  border:1px solid #26345a;
  border-radius:var(--radius-sm);
  padding:10px 12px;
  outline:none;
  width:100%;
  min-height:120px;
  font:14px/1.5 var(--sans);
  box-sizing:border-box;
  resize: vertical;
}
.summary-input::placeholder,
.summary textarea::placeholder{
  color:#7284a7;
}
.summary-input:focus,
.summary textarea:focus{
  border-color:#4166ff;
  box-shadow:0 0 0 3px #4166ff33;
}

/* Light mode overrides for Summary */
html[data-theme="light"] .summary-input,
html[data-theme="light"] .summary textarea,
html[data-theme="light"] textarea[name="summary"]{
  background:#ffffff;
  color:#0b1220;
  border-color:#cbd5e1;
}
html[data-theme="light"] .summary-input::placeholder,
html[data-theme="light"] .summary textarea::placeholder,
html[data-theme="light"] textarea[name="summary"]::placeholder{
  color:#94a3b8;
}

/* Photos: letterboxed thumbnails */
.photo-thumb{
  position:relative;
  display:inline-grid;
  place-items:center;
  width:160px;
  aspect-ratio:4 / 3;
  background:#0b1228;
  border:1px solid var(--line);
  border-radius:10px;
  overflow:hidden;
  box-shadow:0 2px 8px rgba(0,0,0,.4);
}
.photo-thumb img{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
}
.photo-remove{
  position:absolute; top:6px; right:6px;
  width:24px; height:24px;
  border-radius:999px;
  background:var(--danger); color:#fff; border:none;
  font-size:16px; font-weight:700; line-height:1;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,.3);
}
.photo-remove:hover{ background:#ff4b4b; }
.photo-grid{ display:flex; flex-wrap:wrap; gap:10px; }

/* Responsive */
@media (max-width:820px){
  .app-header{ flex-wrap:wrap; }
  .toolbar{ width:100%; margin-left:0; margin-top:8px; justify-content:flex-start; flex-wrap:wrap; }
}
/* ---------- Force LIGHT theme for reports (screen + print) ---------- */
/* Add class="report-container" on the report root/wrapper */
.report-container{
  background:#ffffff !important;
  color:#000000 !important;
}

/* Make all text inside the report render as dark on light */
.report-container *{
  color:#000000 !important;
  background:transparent !important;
}

/* If device is in dark mode, keep the report light */
@media (prefers-color-scheme: dark){
  .report-container{
    background:#ffffff !important;
    color:#000000 !important;
  }
  .report-container *{
    color:#000000 !important;
    background:transparent !important;
  }
}

/* Print: always white background with dark text */
@media print {
  .report-container{
    background:#ffffff !important;
    color:#000000 !important;
  }
  .report-container *{
    color:#000000 !important;
    background:#ffffff !important; /* avoid dark fills in print */
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}

@media print {
  .card, .section { break-inside: avoid; page-break-inside: avoid; }
  img { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
}

/* Sticky KPI strip under the header */
.kpi-strip{
  position: sticky;
  top: 96px; /* sits just below the sticky header */
  z-index: 9;
}

@media (max-width: 820px){
  /* Header wraps on small screens, give KPI a bit more offset */
  .kpi-strip{ top: 140px; }
}


/* ===========================
   Light theme overrides
   Triggered by: <html data-theme="light">
   =========================== */
html[data-theme="light"]{
  --bg:#ffffff;
  --panel:#f6f7fb;
  --card:#ffffff;
  --ink:#0b1220;
  --ink-dim:#334155;
  --muted:#475569;
  --line:#d6d9e3;
  --brand:#2754e6;
  --success:#22c55e;  /* brighter green */
  --warn:#f59e0b;     /* brighter yellow/amber */
  --danger:#ef4444;   /* brighter red */
}

/* Base backgrounds */
html[data-theme="light"] body{
  background:#ffffff;
  color:var(--ink);
}

/* Cards and panels */
html[data-theme="light"] .card{
  background:linear-gradient(180deg,#ffffff,#f8fafc 60%,#ffffff);
  border-color:#e5e7eb;
}
html[data-theme="light"] .emp{
  background:linear-gradient(180deg,#ffffff,#f8fafc);
  color:var(--ink);
}
/* Keep neutral border light, but do not override status colors */
html[data-theme="light"] .emp.emp-neutral{
  border-color:#e5e7eb;
}
html[data-theme="light"] .table-wrap{
  background:#ffffff;
  border-color:#e5e7eb;
}
html[data-theme="light"] th{
  background:#f1f5f9;
  color:#0b1220;
  border-bottom:1px solid #e2e8f0;
}
html[data-theme="light"] th, 
html[data-theme="light"] td{
  color:#0b1220;
  border-bottom:1px solid #e5e7eb;
}

/* Header bar */
html[data-theme="light"] .app-header{
  background:linear-gradient(180deg,#eef2ff,#e2e8f0);
  border-color:#e2e8f0;
}
html[data-theme="light"] .app-title .badge{
  color:#334155;            /* darker text for light background */
  border-color:#cbd5e1;     /* softer border in light mode */
  background:#eef2ff;       /* subtle pill background so it stands out */
}

/* Inputs / selects */
html[data-theme="light"] input[type="text"],
html[data-theme="light"] input[type="date"],
html[data-theme="light"] .other-input,
html[data-theme="light"] select,
html[data-theme="light"] select.btn{
  background:#ffffff;
  color:#0b1220;
  border-color:#cbd5e1;
}
html[data-theme="light"] input::placeholder,
html[data-theme="light"] .other-input::placeholder{
  color:#94a3b8;
}

/* Global textarea fix in light mode (ensures Summary uses white background) */
html[data-theme="light"] textarea{
  background:#ffffff !important;
  color:#0b1220 !important;
  border-color:#cbd5e1 !important;
}
html[data-theme="light"] textarea::placeholder{
  color:#94a3b8 !important;
}

/* Buttons */
html[data-theme="light"] .btn{
  background:#eef2ff;
  color:#0b1220;
  border-color:#c7d2fe;
}
html[data-theme="light"] .btn.ghost{
  background:transparent;
  color:#0b1220;
  border-color:#cbd5e1;
}
html[data-theme="light"] .btn.red{
  background: var(--danger);   /* vivid red */
  color: #ffffff;              /* white text */
  border-color: #b91c1c;       /* deeper red border */
}
html[data-theme="light"] .btn.red:hover{
  box-shadow: 0 0 0 3px rgba(239,68,68,.35);
}
html[data-theme="light"] .btn.yellow{
  background: var(--warn);     /* vivid amber/yellow */
  color: #111827;              /* near-black text for contrast */
  border-color: #b45309;       /* deeper amber border */
}
html[data-theme="light"] .btn.yellow:hover{
  box-shadow: 0 0 0 3px rgba(245,158,11,.35);
}
html[data-theme="light"] .btn.green{
  background: var(--success);   /* vivid green */
  color: #ffffff;               /* white text */
  border-color: #16a34a;        /* deeper green border */
}
html[data-theme="light"] .btn.green:hover{
  box-shadow: 0 0 0 3px rgba(34,197,94,.35);
}
html[data-theme="light"] .btn.blue{
  background:#dbeafe;
  color:#1e3a8a;
  border-color:#bfdbfe;
}

/* KPI tiles */
html[data-theme="light"] .kpi{
  background:linear-gradient(180deg,#ffffff,#f8fafc);
  border-color:#e5e7eb;
}
html[data-theme="light"] .kpi .label,
html[data-theme="light"] .kpi .num{
  color:#0b1220;
}

/* Photos */
html[data-theme="light"] .photo-thumb{
  background:#f8fafc;
  border-color:#e5e7eb;
}

/* Help modal */
html[data-theme="light"] .modal{
  background:linear-gradient(180deg,#ffffff,#f8fafc);
  border-color:#e5e7eb;
}
html[data-theme="light"] .modal header h3,
html[data-theme="light"] .modal .body p{
  color:#0b1220;
}

/* Light theme readability fixes */
html[data-theme="light"] .section h2,
html[data-theme="light"] .section h3{
  color:#0b1220;
}

/* Labels & switch text in light mode */
html[data-theme="light"] label.stack{ color:#0b1220; }
html[data-theme="light"] .switch{ color:#0b1220; }

/* The big KPI counters use inline styles; force dark text in light mode */
html[data-theme="light"] .section [style*="ui-monospace"],
html[data-theme="light"] .section [style*="monospace"],
html[data-theme="light"] .section [style*="font-family: ui-monospace"],
html[data-theme="light"] .section [style*="font-weight: 800"]{
  color:#0b1220 !important;
}

/* Meta text in light mode should be subdued, not white */
html[data-theme="light"] .emp .meta{
  color:#475569;
}

/* Re-assert status borders for safety */
html[data-theme="light"] .emp.emp-active  { border-color: var(--success); }
html[data-theme="light"] .emp.emp-paused  { border-color: var(--warn); }
html[data-theme="light"] .emp.emp-stopped { border-color: var(--danger); }

/* Make paused state border more visible in light mode */
html[data-theme="light"] .emp.emp-paused{
  border-width: 2px;
  border-color: var(--warn);
  box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.25); /* subtle amber glow */
}
html[data-theme="light"] .emp.emp-active{
  border-width: 2px;
  border-color: var(--success);
  box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.22); /* green glow */
}
html[data-theme="light"] .emp.emp-stopped{
  border-width: 2px;
  border-color: var(--danger);
  box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.22); /* red glow */
}

/* Light mode: keep Remove button vivid */
html[data-theme="light"] .emp .btn.ghost{
  color: var(--danger);
  border-color: var(--danger);
  background: transparent;
}
html[data-theme="light"] .emp .btn.ghost:hover{
  background: rgba(239, 68, 68, 0.14);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.18);
}

/* Ensure the single-line status text is vivid in light mode */
html[data-theme="light"] .card-status .state-active{ color: var(--success); }
html[data-theme="light"] .card-status .state-paused{ color: var(--warn); }
html[data-theme="light"] .card-status .state-stopped{ color: var(--danger); }
/* =====================================
   Compact KPI sizing to fit one card
   ===================================== */

/* Make the small KPI tiles tighter */
.kpi{
  padding:10px;
}
.kpi .label{ font-size:11px; }
.kpi .num{ font-size:18px; }

/* Shrink the big timers that use inline monospace styles in the KPI strip */
.kpi-strip [style*="font-family: ui-monospace"],
.kpi-strip [style*="monospace"],
.kpi-strip [style*="font-weight: 800"]{
  font-size:24px !important; /* was ~36px, then 28px */
  line-height:1.05 !important;
}

/* Give the KPI strip a little less vertical spacing */
.kpi-strip .kpis{
  margin-top:8px;
  display:grid;
  grid-template-columns: repeat(6, minmax(0,1fr));
  gap:8px;
}
@media (max-width: 980px){
  .kpi-strip .kpis{ grid-template-columns: repeat(3, minmax(0,1fr)); }
}
@media (max-width: 640px){
  .kpi-strip .kpis{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.kpi-strip .kpi{ min-height: unset; }
.kpi-strip .kpi{ padding:8px; }
.kpi-strip .kpi .label{ font-size:10px; }
.kpi-strip .kpi .num{ font-size:16px; }

/* Slightly reduce the vertical size of progress visuals inside the strip */
.kpi-strip .chart-card{ padding:8px; }
.kpi-strip .chart-legend{ margin-bottom:6px; }
/* Light-mode safeguard for Summary field */
html[data-theme="light"] textarea[name="summary"]{
  background:#ffffff !important;
  color:#0b1220 !important;
  border-color:#cbd5e1 !important;
}